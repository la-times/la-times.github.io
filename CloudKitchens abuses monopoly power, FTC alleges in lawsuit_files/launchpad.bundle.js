(()=>{"use strict";var e={820:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"isEcstModuleLoaded",{enumerable:!0,get:function(){return o.isEcstModuleLoaded}}),Object.defineProperty(t,"sendDataToEcst",{enumerable:!0,get:function(){return o.sendDataToEcst}});var o=n(863)},863:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.sendDataToEcst=t.isEcstModuleLoaded=void 0;var o=n(897);const a=(e,t)=>`https://${o.ECST_SEGMENTS_URL}?${(e=>{if(e)return Object.keys(e).filter((t=>e[t])).map((t=>[t,e[t]].map(encodeURIComponent).join("="))).join("&")})({...e,...t})}`;t.sendDataToEcst=async(e,t)=>{if(window.ats){const n=await(async()=>{const e={},t=await window.ats.retrieveEnvelope();if(t){e.it=o.IDENTIFIER_TYPES.IDENTITY_ENVELOPE;const n=decodeURIComponent(t),{envelope:a}=JSON.parse(n);e.iv=a}return e})(),r=(e=>((e=e||{})&&(e.ct===o.CMP_TYPES.CCPA&&(e.ct=o.CONSENT_TYPES.CCPA),e.ct===o.CMP_TYPES.GDPR&&(e.ct=o.CONSENT_TYPES.TCF_V2),e.ct===o.CMP_TYPES.GLOBAL_CMP&&e.uspString&&(e.ct=o.CONSENT_TYPES.CCPA,e.cv=e.uspString)),e.cv&&e.ct||(delete e.ct,delete e.cv),delete e.uspString,e))(e);return(async(e,t)=>{const n={method:"POST",mode:"cors",credentials:"include",headers:{"Content-Type":"application/json"}};t&&(n.body=JSON.stringify({segments:t}));try{const t=await fetch(e,n);if(200===t.status&&t.ok)return"Data Successfully sent to eCST."}catch(o){return console.error(o),o.message}})(a(r,n),t)}};t.isEcstModuleLoaded=(e,t)=>e&&t&&t.enabled},897:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.IDENTIFIER_TYPES=t.ECST_SEGMENTS_URL=t.CONSENT_TYPES=t.CMP_TYPES=void 0;t.CMP_TYPES={GDPR:"gdpr",CCPA:"ccpa",GLOBAL_CMP:"global",GPP:"gpp"};t.CONSENT_TYPES={TCF_V2:"4",CCPA:"3"};t.IDENTIFIER_TYPES={IDENTITY_ENVELOPE:"19"};t.ECST_SEGMENTS_URL="di.rlcdn.com/api/segment"},394:(e,t,n)=>{var o;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=((o=n(671))&&o.__esModule?o:{default:o}).default;t.default=a},273:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkGppCaliforniaConsent=void 0;var o=n(550);t.checkGppCaliforniaConsent=e=>{const t={sectionId:"",consent:!1};return e&&(t.consent=!(1!==e.SaleOptOutNotice||1!==e.SharingOptOutNotice||0!==e.SensitiveDataLimitUseNotice&&1!==e.SensitiveDataLimitUseNotice||2!==e.SaleOptOut||2!==e.SharingOptOut||"[0,0,0,0,0,0,0,0,0]"!==JSON.stringify(e.SensitiveDataProcessing)||"[0,0]"!==JSON.stringify(e.KnownChildSensitiveDataConsents)||0!==e.PersonalDataConsents&&2!==e.PersonalDataConsents||!1!=!!e.Gpc),t.sectionId=o.GPP_SECTION_IDS.CALIFORNIA),t}},504:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkGppColoradoConsent=void 0;var o=n(550);t.checkGppColoradoConsent=e=>{const t={sectionId:"",consent:!1};return e&&(t.consent=1===e.SharingNotice&&1===e.SaleOptOutNotice&&1===e.TargetedAdvertisingOptOutNotice&&2===e.SaleOptOut&&2===e.TargetedAdvertisingOptOut&&"[0,0,0,0,0,0,0]"===JSON.stringify(e.SensitiveDataProcessing)&&0===e.KnownChildSensitiveDataConsents&&!1==!!e.Gpc,t.sectionId=o.GPP_SECTION_IDS.COLORADO),t}},12:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkGppConnecticutConsent=void 0;var o=n(550);t.checkGppConnecticutConsent=e=>{const t={sectionId:"",consent:!1};return e&&(t.consent=1===e.SharingNotice&&1===e.SaleOptOutNotice&&1===e.TargetedAdvertisingOptOutNotice&&2===e.SaleOptOut&&2===e.TargetedAdvertisingOptOut&&"[0,0,0,0,0,0,0,0]"===JSON.stringify(e.SensitiveDataProcessing)&&"[0,0,0]"===JSON.stringify(e.KnownChildSensitiveDataConsents)&&!1==!!e.Gpc,t.sectionId=o.GPP_SECTION_IDS.CONNECTICUT),t}},550:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.US_STATES=t.GPP_SECTION_IDS=t.API_PREFIX_STRING=void 0;t.GPP_SECTION_IDS={US_NATIONAL:"7",CALIFORNIA:"8",VIRGINIA:"9",COLORADO:"10",UTAH:"11",CONNECTICUT:"12"};t.US_STATES={CALIFORNIA:"CA",VIRGINIA:"VA",COLORADO:"CO",UTAH:"UT",CONNECTICUT:"CT"};t.API_PREFIX_STRING={US_NATIONAL:"usnat",CALIFORNIA:"usca",VIRGINIA:"usva",COLORADO:"usco",UTAH:"usut",CONNECTICUT:"usct"}},671:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(273),a=n(457),r=n(504),s=n(735),i=n(12),d=n(520),c=n(550);t.default=class GppConsentHandler{constructor(e){this.geoLocation=e}getGppSection=e=>{let t;const n=window.__gpp("getSection",null,e);return n||(window.__gpp("getSection",(e=>{t=Array.isArray(e)?{...e[0],...e[1]}:e}),e),t)};checkGppSectionConsent=()=>{let e={sectionId:"",consent:!1};return this.geoLocation.region&&(this.geoLocation.region===c.US_STATES.CALIFORNIA?e=(0,o.checkGppCaliforniaConsent)(this.getGppSection(c.API_PREFIX_STRING.CALIFORNIA)):this.geoLocation.region===c.US_STATES.COLORADO?e=(0,r.checkGppColoradoConsent)(this.getGppSection(c.API_PREFIX_STRING.COLORADO)):this.geoLocation.region===c.US_STATES.UTAH?e=(0,s.checkGppUtahConsent)(this.getGppSection(c.API_PREFIX_STRING.UTAH)):this.geoLocation.region===c.US_STATES.CONNECTICUT?e=(0,i.checkGppConnecticutConsent)(this.getGppSection(c.API_PREFIX_STRING.CONNECTICUT)):this.geoLocation.region===c.US_STATES.VIRGINIA&&(e=(0,a.checkGppVirginiaConsent)(this.getGppSection(c.API_PREFIX_STRING.VIRGINIA)))),e.consent||e.sectionId||(e=(0,d.checkGppNationalConsent)(this.getGppSection(c.API_PREFIX_STRING.US_NATIONAL))),e};checkGppConsentForAts=()=>{const e=this.getGppSection(c.API_PREFIX_STRING.US_NATIONAL);return(0,d.checkGppNationalConsent)(e).consent};getGppDataForEcst=()=>{const e={gpp:null,sectionId:null};if(window.__gpp("ping")){const t=window.__gpp("getGPPData");e.gpp=t.gppString}else window.__gpp("ping",(t=>{"1.0"===t.gppVersion?window.__gpp("getGPPData",(t=>{e.gpp=t.gppString})):"1.1"===t.gppVersion&&(e.gpp=t.gppString)}));const t=this.checkGppSectionConsent();return e.sectionId=t.sectionId,e}}},520:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkGppNationalConsent=void 0;var o=n(550);t.checkGppNationalConsent=e=>{const t={sectionId:"",consent:!1};return e&&(t.consent=!(1!==e.SharingNotice||1!==e.SaleOptOutNotice||1!==e.SharingOptOutNotice||1!==e.TargetedAdvertisingOptOutNotice||0!==e.SensitiveDataProcessingOptOutNotice&&1!==e.SensitiveDataProcessingOptOutNotice||0!==e.SensitiveDataLimitUseNotice&&1!==e.SensitiveDataLimitUseNotice||2!==e.SaleOptOut||2!==e.SharingOptOut||2!==e.TargetedAdvertisingOptOut||"[0,0,0,0,0,0,0,0,0,0,0,0]"!==JSON.stringify(e.SensitiveDataProcessing)||"[0,0]"!==JSON.stringify(e.KnownChildSensitiveDataConsents)||0!==e.PersonalDataConsents&&2!==e.PersonalDataConsents||!1!=!!e.Gpc),t.sectionId=o.GPP_SECTION_IDS.US_NATIONAL),t}},735:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkGppUtahConsent=void 0;var o=n(550);t.checkGppUtahConsent=e=>{const t={sectionId:"",consent:!1};return e&&(t.consent=1===e.SharingNotice&&1===e.SaleOptOutNotice&&1===e.TargetedAdvertisingOptOutNotice&&(0===e.SensitiveDataProcessingOptOutNotice||1===e.SensitiveDataProcessingOptOutNotice)&&2===e.SaleOptOut&&2===e.TargetedAdvertisingOptOut&&"[0,0,0,0,0,0,0,0]"===JSON.stringify(e.SensitiveDataProcessing)&&0===e.KnownChildSensitiveDataConsents&&!1==!!e.Gpc,t.sectionId=o.GPP_SECTION_IDS.UTAH),t}},457:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.checkGppVirginiaConsent=void 0;var o=n(550);t.checkGppVirginiaConsent=e=>{const t={sectionId:"",consent:!1};return e&&(t.consent=1===e.SharingNotice&&1===e.SaleOptOutNotice&&1===e.TargetedAdvertisingOptOutNotice&&2===e.SaleOptOut&&2===e.TargetedAdvertisingOptOut&&"[0,0,0,0,0,0,0,0]"===JSON.stringify(e.SensitiveDataProcessing)&&0===e.KnownChildSensitiveDataConsents&&!1==!!e.Gpc,t.sectionId=o.GPP_SECTION_IDS.VIRGINIA),t}},454:(e,t,n)=>{const o=n(942),a={generate:e=>({...o,env:"",libraryVersion:e,geoTargetingUrl:"https://geo-dev.console.fktr.io",ccpaConfigUrl:"https://ccpa-wrapper-dev.console.fktr.io/ccpa",gdprConfigUrl:"https://gdpr-wrapper-dev.console.fktr.io/gdpr",globalCmpConfigUrl:"https://cmp-wrapper-dev.console.fktr.io",gppConfigUrl:"https://gpp-wrapper-dev.console.fktr.io",purposeListLocation:"https://cmp-vendors-dev.console.fktr.io/purpose-list.json",atsConfigUrl:"https://ats-wrapper-dev.console.fktr.io",gdprBundleUrl:"https://gdpr-dev.console.fktr.io/latest/gdpr.bundle.js",ccpaBundleUrl:"https://ccpa-dev.console.fktr.io/latest/ccpa.bundle.js",globalCmpBundleUrl:"https://cmp-dev.console.fktr.io/latest/cmp.bundle.js",gppBundleUrl:"https://gpp-dev.console.fktr.io/latest/gpp.bundle.js"})};e.exports=a},942:e=>{e.exports={env:null,configVersion:null,logging:!1,cmpRules:[],atsRules:[],triggers:[],preload:!0}},543:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=p(n(394)),a=n(820),r=p(n(374)),s=n(205),i=n(170),d=p(n(388)),c=n(821),l=n(401);function p(e){return e&&e.__esModule?e:{default:e}}const u=[1,4,5,6];t.default=class AtsHandler{constructor(e,t,n,a,r){this.cmpHandler=a,this.intervalId=setInterval(this.checkConsent,100,e,t,n,a,r),this.geoLocation=e,this.ecst,this.gppConsentHandler=this.cmpHandler&&this.cmpHandler.cmp&&this.cmpHandler.cmp.type===s.CMP_TYPES.GPP||window.__gpp?new o.default(e):null}isLocationUs=()=>"US"===this.geoLocation.country;checkConsent=(e,t,n,o,a)=>{o.activeCmp&&o.cmpLoaded?o.checkConsent({data:o.activeCmp.type!==s.CMP_TYPES.GPP?[{vendorId:97,purposeIds:u}]:null,recheckConsentOnChange:!0},((r,i)=>{i&&r?o.activeCmp.type===s.CMP_TYPES.GPP?this.checkGppConsentForAts(e,t,n,a):this.findAndLoadAts(e,t,n,a):d.default.debug("There's no consent for ATS.")})):this.findAndLoadAts(e,t,n,a),clearInterval(this.intervalId)};checkGppConsentForAts=(e,t,n,o)=>{this.gppConsentHandler.checkGppConsentForAts()?this.findAndLoadAts(e,t,n,o):d.default.debug("There's no consent for ATS.")};findAndLoadAts=(e,t,n,o)=>{if(t&&t.length>0&&!window.ats){const n=t.find((t=>t.type===s.INTEGRATION_TYPES.ATS&&this.isAtsAllowedToLoad(t.triggers,e)));n&&this.loadAts(n.id,n.triggers,n.ecst,o)}else if(n&&n.length>0&&!window.ats){const t=n.find((t=>t.integrationType===s.INTEGRATION_TYPES.ATS&&this.isAtsAllowedToLoad(t.integration.conditions,e)));t&&this.loadAts(t.integration.configId,t.integration.conditions,null,o)}else window.ats||d.default.debug("Config without ATS.")};isAtsAllowedToLoad=(e,t)=>{const n=this.getGeoTargeting(e),o=this.getDomains(e);return!(!(0,i.isLocationSupported)(t,n)||!this.isDomainFulfilled(o,window.location.hostname))||(d.default.debug("ATS loading rules aren't fulfilled."),!1)};loadAts=(e,t,n,o)=>{switch(this.getLoadEvent(t)){case s.LOAD_EVENTS.PAGE_VIEW:this.insertAts(e,n,o);break;case s.LOAD_EVENTS.DOM_READY:this.loadOnDomReady(e,n,o);break;case s.LOAD_EVENTS.WINDOW_LOADED:this.loadOnWindowLoaded(e,n,o);break;default:d.default.debug("Unsupported load event.")}};getGeoTargeting=e=>{const t=e.find((e=>e.type===s.CONDITION_TYPES.GEO_TARGETING));return t?t.geoTargeting:null};getDomains=e=>{const t=[],n=e.find((e=>e.type===s.CONDITION_TYPES.PAGE_VIEW));return n&&n.rules.forEach((e=>{t.push(e.value)})),t};getLoadEvent=e=>{const t=e.find((e=>e.type===s.CONDITION_TYPES.LOAD_EVENT));return t?t.loadEvent:null};isDomainFulfilled=(e,t)=>{const n=(0,c.getUrlParam)("domain");return n&&(t=this.extractHostname(n)),!!t&&(t=this.removeWWW(t),e.some((e=>!!e&&(e=this.extractHostname(e),e=this.removeWWW(e),t.indexOf(e)>-1||e.indexOf(t)>-1))))};extractHostname=e=>(e&&(e.indexOf("//")>-1?[,,e]=e.split("/"):[e]=e.split("/"),[e]=e.split(":"),[e]=e.split("?")),e);removeWWW=e=>(e&&0===e.indexOf("www.")&&(e=e.replace("www.","")),e);loadOnDomReady=(e,t,n)=>{"complete"===document.readyState||"interactive"===document.readyState?this.insertAts(e,t,n):window.addEventListener("DOMContentLoaded",(()=>{this.insertAts(e,t,n)}))};loadOnWindowLoaded=(e,t,n)=>{"complete"===document.readyState?this.insertAts(e,t,n):window.addEventListener("load",(()=>{this.insertAts(e,t,n)}))};insertAts=(e,t,n)=>{n=n||(()=>{});const o=`${r.default.atsConfigUrl}/ats-modules/${e}/ats.js`;d.default.debug("Insert ATS wrapper with source: ",o);const s=document.createElement("script");s.setAttribute("src",o),s.setAttribute("id","liveramp-ats-wrapper"),document.head.appendChild(s),s.onload=()=>{this.ecst=t,d.default.debug("ATS wrapper loaded"),n("atsWrapperLoaded"),(0,a.isEcstModuleLoaded)(this.isLocationUs(),this.ecst)&&((0,l.dispatchModuleReadyEvent)("ecstModuleReady"),this.setEcstAdsEventListener())},s.onerror=()=>{d.default.error("Unable to load ATS wrapper: ",o),n("atsWrapperNotLoaded")}};setEcstAdsEventListener=()=>{window.googletag&&window.googletag.cmd&&window.googletag.cmd.push((()=>{window.googletag.pubads().addEventListener("slotRenderEnded",(e=>{const{slot:t}=e,n={slot:t.getSlotElementId(),advertiserId:e.advertiserId,campaignId:e.campaignId,creativeId:e.creativeId,lineItemId:e.lineItemId};this.sendDataToEcstModule(null,n,(e=>console.log(e)),!0)}))}))};setEcstParameterData=e=>{if((e=e||{}).pid=this.ecst.id,window.__gpp){const{gpp:t,sectionId:n}=this.gppConsentHandler.getGppDataForEcst();e.gpp=t,e.gpp_sid=n}else window.__uspapi?(window.__uspapi("getUSPData",null,(t=>{e.uspString=t.uspString})),e.ct=s.CMP_TYPES.CCPA):window.__tcfapi&&(e.ct=s.CMP_TYPES.GDPR);return e};sendDataToEcstModule=async(e,t,n,o)=>{if(o||(0,a.isEcstModuleLoaded)(this.isLocationUs(),this.ecst)){e=e||null,t=t||{},this.setEcstParameterData(t);if(t.uspString&&"Y"!==t.uspString[2]||this.gppConsentHandler&&this.gppConsentHandler.checkGppSectionConsent().consent){n(await(0,a.sendDataToEcst)(t,e))}else n("Not able to send data to eCST. No consent exists.")}}}},595:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=c(n(374)),a=n(205),r=n(170),s=c(n(388)),i=c(n(666)),d=n(821);function c(e){return e&&e.__esModule?e:{default:e}}t.default=class CmpHandler{constructor(e,t,n){this.cmp=this.loadCmp(e,t,n)}loadCmp=(e,t,n)=>{const o=this.findCmpBasedOnGeo(e,t);if(!o)return s.default.debug("Cmp that meets all conditions not found."),n("noCmpApplies"),null;const r=this.findAppIdFromCmp(o);if(!r)return s.default.debug("No app found inside a cmp."),n("noCmpApplies"),null;const i=this.getWrapperSrc(r,o.type),d=o.triggers.find((e=>e.type===a.TRIGGER_TYPES.GEO));return this.addConfigWrapper(i,d.condition,n),this.preloadCmpBundle(o.type),o};getWrapperSrc=(e,t)=>{let n="";return t===a.CMP_TYPES.GDPR?n=`${o.default.gdprConfigUrl}/${e}/gdpr-liveramp.js`:t===a.CMP_TYPES.CCPA?n=`${o.default.ccpaConfigUrl}/${e}/ccpa-liveramp.js`:t===a.CMP_TYPES.GLOBAL_CMP?n=`${o.default.globalCmpConfigUrl}/${e}/cmp-liveramp.js`:t===a.CMP_TYPES.GPP&&(n=`${o.default.gppConfigUrl}/${e}/gpp-liveramp.js`),n};addConfigWrapper=(e,t,n)=>{s.default.debug("Adding wrapper with source: ",e);const o=document.createElement("script");o.setAttribute("src",e),o.setAttribute("id","liveramp-cmp-wrapper"),o.dataset.geoTargeting=JSON.stringify(t),o.dataset.auditId=(0,d.readAuditId)(),document.head.appendChild(o),o.onload=()=>{this.activeCmp=this.cmp,this.cmpLoaded=!0,s.default.debug("CMP wrapper loaded"),n("cmpWrapperLoaded")},o.onerror=()=>{s.default.error("Unable to load CMP wrapper: ",e),n("cmpWrapperNotLoaded"),this.cmpLoaded=!0}};preloadCmpBundle=e=>{if(o.default.preload){const t=this.getCmpBundleUrl(e);if(t){s.default.debug(`Preload ${e} bundle`);const n=document.createElement("link");n.href=t,n.rel="preload",n.as="script",document.head.appendChild(n)}}else s.default.debug("Preload disabled")};getCmpBundleUrl=e=>e===a.CMP_TYPES.GDPR?o.default.gdprBundleUrl:e===a.CMP_TYPES.CCPA?o.default.ccpaBundleUrl:e===a.CMP_TYPES.GLOBAL_CMP?o.default.globalCmpBundleUrl:e===a.CMP_TYPES.GPP?o.default.gppBundleUrl:null;findAppIdFromCmp=e=>!e.apps||e.apps.length<=0?null:1===e.apps.length?((0,d.writeVariantWeightAppId)(e.apps[0].id),e.apps[0].id):this.findVariantWeightAppId(e.apps);findVariantWeightAppId=e=>{const t=(0,d.readVariantWeightAppId)();if(t){if(e.some((e=>e.id===t)))return s.default.debug("Using appId from variant weight cookie:",t),t}return this.getAppIdByChance(e)};getAppIdByChance=e=>{let t=0;e.forEach((e=>{t+=+e.weight}));let n=Math.random()*t;for(const o of e){if(n<+o.weight){const e=o.id;return s.default.debug("Got app from dice roll:",e),(0,d.writeVariantWeightAppId)(e),e}n-=+o.weight}return null};findCmpBasedOnGeo=(e,t)=>!t||t.length<=0?null:t.find((t=>{const n=t.triggers.find((e=>e.type===a.TRIGGER_TYPES.GEO));return(0,r.isLocationSupported)(e,n.condition)}));getActiveCmpType=()=>this.activeCmp?this.activeCmp.type:null;getCmpApplies=e=>{this.executeCmpCommand(a.CMP_COMMANDS.APPLIES,null,e)};getCmpVendorList=e=>{this.executeCmpCommand(a.CMP_COMMANDS.GET_VENDOR_LIST,null,e)};getConsentString=()=>new Promise((e=>{this.getCmpConsent((t=>e(t&&t.tcString?t.tcString:null)))}));getCmpConsent=e=>{const t=this.activeCmp&&this.activeCmp.type===a.CMP_TYPES.CCPA?{includeUspString:!0}:null;this.executeCmpCommand(a.CMP_COMMANDS.GET_CONSENT,t,e)};checkConsent=(e,t)=>{e?this.activeCmp.type===a.CMP_TYPES.GLOBAL_CMP?(e.ignoreUnsupported=!0,this.executeCmpCommand(a.CMP_COMMANDS.CHECK_CONSENT,e,t)):this.activeCmp.type===a.CMP_TYPES.GPP?this.executeCmpCommand(a.CMP_COMMANDS.TRIGGER_ATS_CONSENT_CHECK,e,t):i.default.getPurposeList().then((n=>{e.data=e.data?this.remapCheckConsentData(e.data,n):null,e.ignoreUnsupported=!0,this.executeCmpCommand(a.CMP_COMMANDS.CHECK_CONSENT,e,t)})).catch((e=>{s.default.error("Unable to check consent: ",e),t(null,!1)})):this.executeCmpCommand(a.CMP_COMMANDS.CHECK_CONSENT,null,t)};getGppSection=()=>{let e;return this.executeCmpCommand(a.CMP_COMMANDS.GET_SECTION,"usnat",(t=>{e=t})),e};accept=(e,t)=>{this.updateConsent(a.CMP_COMMANDS.ACCEPT,e,t)};reject=(e,t)=>{this.updateConsent(a.CMP_COMMANDS.REJECT,e,t)};setCmpAuditId=(e,t)=>{this.executeCmpCommand(a.CMP_COMMANDS.SET_AUDIT_ID,e,t)};showConsentManager=(e,t)=>{this.executeCmpCommand(a.CMP_COMMANDS.SHOW_CONSENT_MANAGER,e,t)};getConsentCriteria=(e,t)=>{this.executeCmpCommand(a.CMP_COMMANDS.GET_CONSENT_CRITERIA,e,t)};executeCmpCommand=(e,t,n)=>{this.activeCmp?this.handleCmpCommandCall(this.activeCmp.type,e,t,n):n(null,!0)};handleCmpCommandCall=(e,t,n,o)=>{e===a.CMP_TYPES.GDPR?window[a.CMP_APIS.GDPR](a.GDPR_COMMANDS[t],null,o,n):e===a.CMP_TYPES.CCPA?window[a.CMP_APIS.CCPA](a.CCPA_COMMANDS[t],n,null,o):e===a.CMP_TYPES.GLOBAL_CMP?window[a.CMP_APIS.GLOBAL_CMP](a.GLOBAL_CMP_COMMANDS[t],null,o,n):e===a.CMP_TYPES.GPP?window[a.CMP_APIS.GPP](a.GPP_COMMANDS[t],o,n):o(null,!1)};isObject=e=>{const t=typeof e;return("function"===t||"object"===t&&!!e)&&e.constructor!==Array};remapCheckConsentData=(e,t)=>{const n=this.activeCmp.type;if(this.isObject(e))return this.remapCheckConsentItem(e,t,n);if(e.length){const o=[];return e.forEach((e=>{const a=this.remapCheckConsentItem(e,t,n);o.push(a)})),o}return null};remapCheckConsentItem=(e,t,n)=>{if(t.purposes&&e.purposeIds&&e.purposeIds.length>0){const o=[],r=[];e.purposeIds.forEach((e=>{const s=t.purposes[e];o.push(...s[n].purposes),n===a.CMP_TYPES.GDPR&&r.push(...s[n].specialFeatures)}));const s={vendorId:e.vendorId,isPublisher:e.isPublisher};return o.length>0&&(s.purposeIds=o.filter(((e,t)=>e&&o.indexOf(e)===t))),r.length>0&&(s.specialFeatureIds=r.filter(((e,t)=>e&&r.indexOf(e)===t))),s}return e};updateConsent=(e,t,n)=>{t&&this.isObject(t)?i.default.getPurposeList().then((o=>{t=this.remapUpdateConsent(t,o,e===a.CMP_COMMANDS.ACCEPT),this.executeCmpCommand(e,t,n)})).catch((()=>{n(null,!1)})):t&&Array.isArray(t)?this.executeCmpCommand(e,t,n):this.executeCmpCommand(e,null,n)};remapUpdateConsent=(e,t,n)=>{const{purposeIds:o,vendorIds:r,consentOnDemand:s=!1,publisher:i={}}=e||{};let d=[];const c=[];if(t.purposes&&o&&o.length>0&&(o.forEach((e=>{const n=t.purposes[e];d.push(...n[this.activeCmp.type].purposes),this.activeCmp.type===a.CMP_TYPES.GDPR&&c.push(...n[this.activeCmp.type].specialFeatures)})),d=d.filter(((e,t)=>e&&d.indexOf(e)===t))),this.activeCmp.type===a.CMP_TYPES.GDPR){const e={consentOnDemand:s,vendorIds:r,legIntVendorIds:r};if(d.length>0&&(e.purposeIds=d,e.legIntPurposeIds=d),c.length>0&&(e.specialFeatureIds=c.filter(((e,t)=>e&&c.indexOf(e)===t))),i&&i.purposeIds&&i.purposeIds.length>0){const n=[];i.purposeIds.forEach((e=>{const o=t.purposes[e];n.push(...o[a.CMP_TYPES.GDPR].purposes)})),e.publisher={},n.length>0&&(e.publisher.purposeIds=n.filter(((e,t)=>e&&n.indexOf(e)===t)))}return e}if(this.activeCmp.type===a.CMP_TYPES.GLOBAL_CMP){const e={};if(r&&r.length>0&&(e.vendors={},r.forEach((t=>{e.vendors[t]={consent:n,legitimateInterest:n,purposes:d,legIntPurposes:d}}))),i){let o=[];i.purposeIds&&i.purposeIds.length>0&&(i.purposeIds.forEach((e=>{const n=t.purposes[e];o.push(...n[a.CMP_TYPES.GLOBAL_CMP].purposes)})),o=o.filter(((e,t)=>e&&o.indexOf(e)===t))),e.publisher={consent:n,legitimateInterest:n,purposes:o,legIntPurposes:o}}}else if(this.activeCmp.type===a.CMP_TYPES.CCPA){const e=[];return r&&r.length>0&&r.forEach((t=>{const n={vendorId:t};d.length>0&&(n.purposeIds=d),e.push(n)})),e}return null}}},374:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=a(t);if(n&&n.has(e))return n.get(e);var o={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var s in e)if("default"!==s&&Object.prototype.hasOwnProperty.call(e,s)){var i=r?Object.getOwnPropertyDescriptor(e,s):null;i&&(i.get||i.set)?Object.defineProperty(o,s,i):o[s]=e[s]}o.default=e,n&&n.set(e,o);return o}(n(454));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(a=function(e){return e?n:t})(e)}const r={env:"production",configVersion:null,logging:!1,cmpRules:[],atsRules:[],triggers:[],preload:!0,libraryVersion:"1.5.0",geoTargetingUrl:"https://geo.privacymanager.io",ccpaConfigUrl:"https://ccpa-wrapper.privacymanager.io/ccpa",gdprConfigUrl:"https://gdpr-wrapper.privacymanager.io/gdpr",globalCmpConfigUrl:"https://cmp-wrapper.privacymanager.io",gppConfigUrl:"https://gpp-wrapper.privacymanager.io",purposeListLocation:"https://cmp-vendors.privacymanager.io/purpose-list.json",atsConfigUrl:"https://ats-wrapper.privacymanager.io",gdprBundleUrl:"https://gdpr.privacymanager.io/latest/gdpr.bundle.js",ccpaBundleUrl:"https://ccpa.privacymanager.io/latest/ccpa.bundle.js",globalCmpBundleUrl:"https://cmp.privacymanager.io/latest/cmp.bundle.js",gppBundleUrl:"https://gpp.privacymanager.io/latest/gpp.bundle.js"}||o.generate();function s(e,t){const n={...e,...t};return Object.keys(e).forEach((o=>{e[o]&&"object"==typeof e[o]&&(function(e){const t=typeof e;return("function"===t||"object"===t&&!!e)&&e.constructor!==Array}(e[o])&&t[o]?n[o]=s(e[o],t[o]):!t[o]||t[o].constructor!==String&&t[o].constructor!==Array?e[o].constructor===String||e[o].constructor===Array?n[o]=e[o]:n[o]={...e[o],...t[o]}:n[o]=t[o])})),n}var i=new class Config{constructor(){this.update(r)}update=e=>{if(e&&"object"==typeof e){const t=Object.keys(r),{validUpdates:n}=Object.keys(e).reduce(((n,o)=>(t.indexOf(o)>-1&&(n.validUpdates={...n.validUpdates,[o]:e[o]}),n)),{validUpdates:{}}),o=s(this,n);Object.assign(this,o)}}};t.default=i},205:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.TRIGGER_TYPES=t.LOAD_EVENTS=t.INTEGRATION_TYPES=t.GPP_COMMANDS=t.GLOBAL_CMP_COMMANDS=t.GDPR_COMMANDS=t.GA_EVENT_CATEGORY_PREFIX=t.CONDITION_TYPES=t.CMP_TYPES=t.CMP_COMMANDS=t.CMP_APIS=t.CCPA_COMMANDS=void 0;t.TRIGGER_TYPES={GEO:"geo"};t.CMP_TYPES={GDPR:"gdpr",CCPA:"ccpa",GLOBAL_CMP:"global",GPP:"gpp"};t.CMP_APIS={GDPR:"__tcfapi",CCPA:"__ccpa",GLOBAL_CMP:"__lrcmp",GPP:"__gpp"};t.CMP_COMMANDS={APPLIES:"APPLIES",GET_VENDOR_LIST:"GET_VENDOR_LIST",GET_CONSENT:"GET_CONSENT",CHECK_CONSENT:"CHECK_CONSENT",SET_AUDIT_ID:"SET_AUDIT_ID",ACCEPT:"ACCEPT",REJECT:"REJECT",SHOW_CONSENT_MANAGER:"SHOW_CONSENT_MANAGER",GET_CONSENT_CRITERIA:"GET_CONSENT_CRITERIA",GET_SECTION:"GET_SECTION",TRIGGER_ATS_CONSENT_CHECK:"TRIGGER_ATS_CONSENT_CHECK"};t.GDPR_COMMANDS={APPLIES:"gdprApplies",GET_VENDOR_LIST:"getVendorList",GET_CONSENT:"getFullTCData",CHECK_CONSENT:"checkConsent",SET_AUDIT_ID:"setAuditId",ACCEPT:"accept",REJECT:"reject",SHOW_CONSENT_MANAGER:"showConsentManager",GET_CONSENT_CRITERIA:"getConsentCriteria"};t.CCPA_COMMANDS={APPLIES:"ccpaApplies",GET_VENDOR_LIST:"getVendorList",GET_CONSENT:"getConsent",CHECK_CONSENT:"checkConsent",SET_AUDIT_ID:"setAuditId",ACCEPT:"optIn",REJECT:"optOut",SHOW_CONSENT_MANAGER:"showConsentManager"};t.GLOBAL_CMP_COMMANDS={APPLIES:"cmpApplies",GET_VENDOR_LIST:"getVendorList",GET_CONSENT:"getConsentData",CHECK_CONSENT:"checkConsent",SET_AUDIT_ID:"setAuditId",ACCEPT:"accept",REJECT:"reject",SHOW_CONSENT_MANAGER:"showConsentTool",GET_CONSENT_CRITERIA:"getConsentCriteria"};t.GPP_COMMANDS={APPLIES:"cmpApplies",GET_SECTION:"getSection",GET_CONSENT:"ping",SET_AUDIT_ID:"setAuditId",ACCEPT:"accept",REJECT:"reject",SHOW_CONSENT_MANAGER:"showConsentManager",TRIGGER_ATS_CONSENT_CHECK:"triggerAtsConsentCheck"};t.INTEGRATION_TYPES={ATS:"ATS",GOOGLE_ANALYTICS:"GOOGLE_ANALYTICS"};t.LOAD_EVENTS={PAGE_VIEW:"PAGE_VIEW",DOM_READY:"DOM_READY",WINDOW_LOADED:"WINDOW_LOADED"};t.CONDITION_TYPES={LOAD_EVENT:"LOAD_EVENT",GEO_TARGETING:"GEO_TARGETING",PAGE_VIEW:"PAGE_VIEW"};t.GA_EVENT_CATEGORY_PREFIX="lr"},328:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={isCmpLoaded:{gdpr:"isLoaded",ccpa:"isLoaded",global:"isLoaded"},isCmpReady:{gdpr:"cmpReady",ccpa:"isReady",global:"isReady"},commandQueued:{gdpr:"commandQueued",ccpa:"commandQueued",global:"commandQueued"},dauLogSent:{gdpr:"dauLogSent",ccpa:null,global:"dauLogSent"},auditIdChanged:{gdpr:"auditIdChanged",ccpa:null,global:"auditIdChanged"},consentChanged:{gdpr:"consentChanged",ccpa:"consentChanged",global:"consentChanged"},disabledCookies:{gdpr:"disabledCookies",ccpa:"disabledCookies",global:"disabledCookies"},saveAndExit:{gdpr:"saveAndExitButtonClicked",ccpa:"saveAndExitButtonClicked",global:"saveAndExitButtonClicked"},consentToolShouldBeShown:{gdpr:"consentToolShouldBeShown",ccpa:"consentToolShouldBeShown",global:"consentToolShouldBeShown"},acceptAllButtonClicked:{gdpr:"acceptAllButtonClicked",ccpa:null,global:"acceptAllButtonClicked"},rejectAllButtonClicked:{gdpr:"denyAllButtonClicked",ccpa:"doNotSellMyDataButtonClicked",global:"rejectAllButtonClicked"},noticeAlreadyShown:{gdpr:"consentNoticeAlreadyShown",ccpa:"consentNoticeAlreadyShown",global:"consentNoticeAlreadyShown"},managerAlreadyShown:{gdpr:"consentManagerAlreadyShown",ccpa:"consentManagerAlreadyShown",global:"consentManagerAlreadyShown"},exitButtonClicked:{gdpr:"exitButtonClicked",ccpa:"exitButtonClicked",global:"exitButtonClicked"},toggleButtonClicked:{gdpr:"toggleButtonClicked",ccpa:"toggleButtonClicked",global:"toggleButtonClicked"},vendorListChanged:{gdpr:null,ccpa:null,global:"vendorListChanged"},managerDisplayed:{gdpr:"consentManagerDisplayed",ccpa:"consentManagerDisplayed",global:"consentManagerDisplayed"},managerClosed:{gdpr:"consentManagerClosed",ccpa:"consentManagerClosed",global:"consentManagerClosed"},noticeDisplayed:{gdpr:"consentNoticeDisplayed",ccpa:"consentNoticeDisplayed",global:"consentNoticeDisplayed"},noticeClosed:{gdpr:"consentNoticeClosed",ccpa:"consentNoticeClosed",global:"consentNoticeClosed"}};t.default=n},256:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function({configUpdates:e}){r.default.update(e),f(r.default),c.default.debug("Using configuration: ",JSON.stringify(r.default));const t=Date.now(),{commandQueue:n=[],VERSION:l}=window[i.GLOBAL_NAME]||{};if(l)return void c.default.error("LaunchPad already loaded");const p=parseInt(r.default.libraryVersion,10),u=new i.default(p);u.commandQueue=n,window[i.GLOBAL_NAME]=u.processCommand;const g=Date.now();return c.default.debug(`Successfully loaded version: ${p} in ${g-t}ms`),u.isLoaded=!0,u.status="loaded",u.notify("isLoaded"),(0,d.getLocation)().then((e=>{c.default.debug("Location: ",e),u.processCommandQueue(),u.isReady=!0,u.notify("isReady"),c.default.debug(`Ready in: ${Date.now()-g}ms`),navigator.cookieEnabled||u.notify("disabledCookies"),u.cmpHandler=new a.default(e,r.default.cmpRules,u.notify),u.atsHandler=new o.default(e,r.default.atsRules,r.default.triggers,u.cmpHandler,u.notify),u.integrationsHandler=new s.default(r.default.triggers,u.cmpHandler)})).catch((e=>{c.default.error("Failed to load: ",e),u.status="error"})),p};var o=u(n(543)),a=u(n(595)),r=u(n(374)),s=u(n(788)),i=function(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var n=p(t);if(n&&n.has(e))return n.get(e);var o={},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if("default"!==r&&Object.prototype.hasOwnProperty.call(e,r)){var s=a?Object.getOwnPropertyDescriptor(e,r):null;s&&(s.get||s.set)?Object.defineProperty(o,r,s):o[r]=e[r]}o.default=e,n&&n.set(e,o);return o}(n(667)),d=n(170),c=u(n(388)),l=n(821);function p(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,n=new WeakMap;return(p=function(e){return e?n:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}const f=()=>{const e=(0,l.getUrlParam)("logging");"true"!==e&&"false"!==e||(r.default.logging="true"===e)}},788:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=n(205),a=s(n(328)),r=s(n(388));function s(e){return e&&e.__esModule?e:{default:e}}t.default=class IntegrationsHandler{constructor(e,t){this.loadIntegrations(e,t)}loadIntegrations=(e,t)=>{e&&e.length>0?e.forEach((e=>{e.integrationType===o.INTEGRATION_TYPES.GOOGLE_ANALYTICS&&(this.intervalId=setInterval(this.loadGoogleAnalytics,500,t,e.conditions))})):r.default.debug("Config without Integrations.")};loadGoogleAnalytics=(e,t)=>{t&&t[0]&&t[0].cmpEvents?e.cmpLoaded&&e.activeCmp&&(t[0].cmpEvents.forEach((t=>{this.addGAEventListener(e.activeCmp.type,t)})),clearInterval(this.intervalId)):clearInterval(this.intervalId)};addGAEventListener=(e,t)=>{const n=this.getCmpApiByCmpType(e),a=this.getCmpEventByCmpType(e,t);n&&a?window[n]("addEventListener",null,(()=>{void 0!==window.gtag&&window.gtag("event",a,{event_category:`${o.GA_EVENT_CATEGORY_PREFIX}-${e}`,event_label:a,value:a})}),a):r.default.debug("Invalid cmp type.")};getCmpEventByCmpType=(e,t)=>{if(a.default[t])return a.default[t][e]};getCmpApiByCmpType=e=>e===o.CMP_TYPES.GDPR?o.CMP_APIS.GDPR:e===o.CMP_TYPES.CCPA?o.CMP_APIS.CCPA:e===o.CMP_TYPES.GLOBAL_CMP?o.CMP_APIS.GLOBAL_CMP:void 0}},667:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.VERSION=t.LOCATOR_NAME=t.GLOBAL_NAME=t.CALL_NAME=void 0;var o=s(n(374)),a=s(n(388)),r=n(821);function s(e){return e&&e.__esModule?e:{default:e}}const i="__launchpad";t.GLOBAL_NAME=i;const d=`${i}Call`;t.CALL_NAME=d;const c=`${i}Locator`;t.LOCATOR_NAME=c;let l=parseInt(o.default.libraryVersion,10)||1;t.VERSION=l;const p=`${i}Return`;t.default=class LaunchPad{constructor(e){this.isLoaded=!1,this.isReady=!1,this.isCmpLoaded=!1,this.isAtsLoaded=!1,this.status="stub",this.eventListeners={},this.processCommand.receiveMessage=this.receiveMessage,e&&(t.VERSION=l=e),this.processCommand.VERSION=l,this.commandQueue=[]}commands={ping:(e,t)=>{t=t||(()=>{}),e&&1!==e||!this.cmpHandler?t(null,!1):this.cmpHandler.getCmpApplies(((e,n)=>{const o={loaded:this.isLoaded,status:this.status,apiVersion:"1.0",libraryVersion:l,cmpType:this.cmpHandler.getActiveCmpType(),cmpApplies:e};t(o,n)}))},getVendorList:(e,t)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.getCmpVendorList(t)},getConsentData:(e,t)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.getCmpConsent(t)},checkConsent:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.checkConsent(n,t)},ecst:async(e,t)=>{t=t||(()=>{}),this.atsHandler.sendDataToEcstModule(e,null,t)},accept:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.accept(n,t)},reject:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.reject(n,t)},getAuditId:(e,t)=>{if(t=t||(()=>{}),e&&1!==e)return void t(null,!1);t((0,r.readAuditId)(),!0)},resetAuditId:(e,t)=>{if(t=t||(()=>{}),e&&1!==e)return void t(null,!1);const n=(0,r.writeAuditId)();this.cmpHandler.setCmpAuditId(n,t)},showConsentManager:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.showConsentManager(n,t)},getConsentCriteria:(e,t,n)=>{t=t||(()=>{}),e&&1!==e?t(null,!1):this.cmpHandler.getConsentCriteria(n,t)},addEventListener:(e,t,n)=>{if(t=t||(()=>{}),e&&1!==e)return void t(null,!1);if(!n)return void t({error:"Event not provided"},!1);const o=this.eventListeners[n]||new Set;o.add(t),this.eventListeners[n]=o,"isLoaded"===n&&this.isLoaded&&t({event:n},!0)},removeEventListener:(e,t,n)=>{if(t=t||(()=>{}),e&&1!==e)return void t(null,!1);let o=!1;if(n){if(isNaN(n)){const e=this.eventListeners[n]||new Set;e.clear(),this.eventListeners[n]=e,o=!0}}else this.eventListeners={},o=!0;t(o)}};processCommandQueue=()=>{const e=[...this.commandQueue];e.length&&(a.default.info(`Process ${e.length} queued commands`),this.commandQueue=[],e.forEach((e=>{if(Array.isArray(e)){const[t,n,o,a]=e;this.processCommand(t,n,o,a)}else{const{callId:t,command:n,parameter:o,version:a,callback:r,event:s}=e;s?this.processCommand(n,a,((e,o)=>{const a={[p]:{callId:t,command:n,returnValue:e,success:o}};s.source.postMessage(a,s.origin)}),o):this.processCommand(n,a,r,o)}})))};receiveMessage=({data:e,origin:t,source:n})=>{if(e){const{[d]:o}=e;if(o){const{callId:e,command:a,parameter:r,version:s}=o;this.processCommand(a,s,((o,r)=>{const s={[p]:{callId:e,command:a,returnValue:o,success:r}};n.postMessage(s,t)}),r)}}};processCommand=(e,t,n,o)=>{"function"!=typeof this.commands[e]?a.default.error(`Invalid Command "${e}"`):"ecst"===e||"ping"===e||"addEventListener"===e||this.isReady&&this.isCmpLoaded?"ecst"!==e||this.isAtsLoaded?(a.default.info(`Process command: ${e}, parameter: ${o}, version: ${t}`),this.commands[e](t,n,o)):this.pushToCommandQueue(e,t,n,o,"ATS"):this.pushToCommandQueue(e,t,n,o,"launchpad")};pushToCommandQueue=(e,t,n,o,r)=>{a.default.info(`Queuing command: ${e} until ${r} is ready`),this.commandQueue.push({command:e,version:t,callback:n,parameter:o}),this.notify("commandQueued",{command:e})};notify=(e,t)=>{a.default.info(`Notify event: ${e}`);(this.eventListeners[e]||new Set).forEach((n=>{n({event:e,data:t},!0)})),"cmpWrapperLoaded"===e&&(this.isCmpLoaded=!0,this.processCommandQueue()),"atsWrapperLoaded"===e&&(this.isAtsLoaded=!0,this.processCommandQueue())}}},170:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getLocation=void 0,t.isLocationSupported=function(e,t){let n=!1;if(t.allCountries)n=!0;else{const o=t.countries.includes(e.country);if(o&&"US"===e.country)if(t.allStates)n=!0;else{const o=!!(t.states&&t.states.length>0)&&t.states.includes(e.region);n=t.includeSelection?o:!o}else n=t.includeSelection?o:!o}return n};var o=s(n(374)),a=s(n(388)),r=n(821);function s(e){return e&&e.__esModule?e:{default:e}}t.getLocation=()=>{let e=(0,r.readGeoLocation)();return e=(e=>{const t=(0,r.getUrlParam)("lrcountry"),n=(0,r.getUrlParam)("lrregion");return e?(t&&(e.country=t),n&&(e.region=n),e):{country:t,region:n}})(e),e&&e.country?Promise.resolve(e):fetch(o.default.geoTargetingUrl,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).catch((e=>{a.default.error("Failed to fetch location: ",e)})).then((e=>e&&e.country?((0,r.writeGeoLocation)(e),e):null))}},388:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(374))&&o.__esModule?o:{default:o};const r=["debug","info","warn","error"];var s=r.reduce(((e,t,n)=>(e[t]=(...e)=>{const o="debug"===t?"log":t,{logging:s}=a.default;if(Function.prototype.bind&&window.console&&"object"==typeof console.log&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach((e=>{console[e]=(void 0).bind(console[e],console)}),Function.prototype.call),s&&console&&"function"==typeof console[o]){const a=r.indexOf(s.toString().toLocaleLowerCase());if(!0===s||a>-1&&n>=a){const[n,...a]=[...e];console[o](`${t.toUpperCase()} - (LaunchPad) ${n}`,...a)}}},e)),{});t.default=s},666:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(374)),a=r(n(388));function r(e){return e&&e.__esModule?e:{default:e}}const s="cmpPurposeList";var i=new class PurposeList{constructor(){this.purposeList=null}getPurposeList=()=>this.purposeList?Promise.resolve(this.purposeList):this.retrieveCachedData(s,this.fetchPurposeList).then((e=>(this.purposeList=e,this.purposeList))).catch((e=>(a.default.error("Failed to retrieve purpose list",e),this.purposeList)));fetchPurposeList=()=>{const e=o.default.purposeListLocation;return fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((e=>(this.cacheData(s,e),e))).catch((t=>{a.default.error(`Failed to load purpose list from ${e}`,t)}))};retrieveCachedData=(e,t)=>{try{if(localStorage){const t=JSON.parse(localStorage.getItem(e));if(t&&t.data&&t.expire>+new Date)return Promise.resolve(t.data)}return t()}catch(n){return a.default.error(`Unable to parse ${e} from localStorage`,n),t()}};cacheData=(e,t)=>{try{if(localStorage&&t&&t.purposes){const n={data:t,expire:+this.generateExpirationDate()};localStorage.setItem(e,JSON.stringify(n))}}catch(n){a.default.error(`Unable cache ${e} to localStorage`,n)}};generateExpirationDate=()=>{const e=new Date;return 4===e.getDay()&&e.getHours()>18?e.setDate(e.getDate()+7):e.setDate(e.getDate()+((7-e.getDay())%7+4)%7),e.setHours(18),e.setMinutes(0),e}};t.default=i},821:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getUrlParam=function(e){return function(){const e=window.location.href.split("?")[1],t={};if(e){const n=e.split("&");for(const e of n){const[n,o]=e.split("=");t[n]=o}}return t}()[e]},t.readAuditId=function(){const e=f(l);if(e)return e;return C()},t.readFromLocalStorage=f,t.readGeoLocation=function(){const e=f(d);if(r.default.debug("Read geoLocation: ",e),e)try{return JSON.parse(e)}catch(t){r.default.debug("Error while parsing geoLocation: ",t)}return null},t.readVariantWeightAppId=function(){const e=f(c);if(r.default.debug("Read variant weight appId:",e),e)return e;return null},t.writeAuditId=C,t.writeCookie=u,t.writeGeoLocation=function(e){r.default.debug("Writing geoLocation: ",e),g(d,JSON.stringify(e),i)},t.writeVariantWeightAppId=function(e){r.default.debug("Writing variant weight appId:",e),g(c,e)};var o,a=n(315),r=(o=n(388))&&o.__esModule?o:{default:o};const s=33696e3,i=86400,d="geo-location",c="variant-weight-appId",l="auditId";function p(e){const t=`; ${document.cookie}`.split(`; ${e}=`);return t.length>=2?t.pop().split(";").shift():null}function u(e,t,n,o="/"){const a=null===n?"":`;max-age=${n}`,r=null===n?"":`;expires=${new Date(1*new Date+1e3*n).toUTCString()}`;return o=`;path=${o}`,document.cookie=`${e}=${t}${o}${a}${r};SameSite=Lax`,p(e)}function f(e){try{if(localStorage){const t=JSON.parse(localStorage.getItem(e));if(t&&t.data){if(!t.expire||t.expire>+new Date)return t.data;const n=p(e);return n||t.data}}}catch(t){r.default.error(`Unable to parse ${e} from localStorage: `,t)}return p(e)}function g(e,t,n=s){try{if(localStorage){if(t){const o={data:t,expire:+new Date(1*new Date+1e3*n)};localStorage.setItem(e,JSON.stringify(o))}else localStorage.removeItem(e);return t}}catch(o){r.default.error(`Unable to store ${e} to localStorage: `,o)}return u(e,t,n)}function C(e){let t=e||(0,a.v4)();return t=t.replace(/[^\w\s]/gi,""),g(l,t,s)}},405:()=>{!function(){if("function"!=typeof window.__launchpad){var e=[],t=window,n=t.document,o=t.__launchpad?t.__launchpad.start:function(){};function a(){var e=!!t.frames.__launchpadLocator;if(!e)if(n.body){var o=n.createElement("iframe");o.style.cssText="display:none",o.name="__launchpadLocator",n.body.appendChild(o)}else setTimeout(a,5);return!e}function r(t,n,o,a){var r=[t,n,o,a];if(!r.length)return e;"ping"===r[0]?"function"==typeof r[2]&&r[2]({loaded:!1,apiVersion:"1.0"},!0):e.push(r)}function s(e){var n="string"==typeof e.data,o={};try{o=n?JSON.parse(e.data):e.data}catch(r){}var a=o.__launchpadCall;a&&t.__launchpad(a.command,a.version,(function(t,o){if(e.source){var r={__launchpadReturn:{returnValue:t,success:o,callId:a.callId,command:a.command}};n&&(r=JSON.stringify(r)),e.source.postMessage(r,"*")}}),a.parameter)}!t.__launchpad&&a()&&(t.__launchpad=r,t.__launchpad.commandQueue=e,t.__launchpad.start=o,t.addEventListener("message",s,!1))}}()},401:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchModuleReadyEvent=void 0;t.dispatchModuleReadyEvent=async e=>{const t=new CustomEvent(e);window.dispatchEvent(t)}},315:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return d.default}});var o=u(n(750)),a=u(n(357)),r=u(n(331)),s=u(n(680)),i=u(n(213)),d=u(n(787)),c=u(n(574)),l=u(n(552)),p=u(n(957));function u(e){return e&&e.__esModule?e:{default:e}}},980:(e,t)=>{function n(e){return 14+(e+64>>>9<<4)+1}function o(e,t){const n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function a(e,t,n,a,r,s){return o((i=o(o(t,e),o(a,s)))<<(d=r)|i>>>32-d,n);var i,d}function r(e,t,n,o,r,s,i){return a(t&n|~t&o,e,t,r,s,i)}function s(e,t,n,o,r,s,i){return a(t&o|n&~o,e,t,r,s,i)}function i(e,t,n,o,r,s,i){return a(t^n^o,e,t,r,s,i)}function d(e,t,n,o,r,s,i){return a(n^(t|~o),e,t,r,s,i)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var c=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){const t=[],n=32*e.length,o="0123456789abcdef";for(let a=0;a<n;a+=8){const n=e[a>>5]>>>a%32&255,r=parseInt(o.charAt(n>>>4&15)+o.charAt(15&n),16);t.push(r)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[n(t)-1]=t;let a=1732584193,c=-271733879,l=-1732584194,p=271733878;for(let n=0;n<e.length;n+=16){const t=a,u=c,f=l,g=p;a=r(a,c,l,p,e[n],7,-680876936),p=r(p,a,c,l,e[n+1],12,-389564586),l=r(l,p,a,c,e[n+2],17,606105819),c=r(c,l,p,a,e[n+3],22,-1044525330),a=r(a,c,l,p,e[n+4],7,-176418897),p=r(p,a,c,l,e[n+5],12,1200080426),l=r(l,p,a,c,e[n+6],17,-1473231341),c=r(c,l,p,a,e[n+7],22,-45705983),a=r(a,c,l,p,e[n+8],7,1770035416),p=r(p,a,c,l,e[n+9],12,-1958414417),l=r(l,p,a,c,e[n+10],17,-42063),c=r(c,l,p,a,e[n+11],22,-1990404162),a=r(a,c,l,p,e[n+12],7,1804603682),p=r(p,a,c,l,e[n+13],12,-40341101),l=r(l,p,a,c,e[n+14],17,-1502002290),c=r(c,l,p,a,e[n+15],22,1236535329),a=s(a,c,l,p,e[n+1],5,-165796510),p=s(p,a,c,l,e[n+6],9,-1069501632),l=s(l,p,a,c,e[n+11],14,643717713),c=s(c,l,p,a,e[n],20,-373897302),a=s(a,c,l,p,e[n+5],5,-701558691),p=s(p,a,c,l,e[n+10],9,38016083),l=s(l,p,a,c,e[n+15],14,-660478335),c=s(c,l,p,a,e[n+4],20,-405537848),a=s(a,c,l,p,e[n+9],5,568446438),p=s(p,a,c,l,e[n+14],9,-1019803690),l=s(l,p,a,c,e[n+3],14,-187363961),c=s(c,l,p,a,e[n+8],20,1163531501),a=s(a,c,l,p,e[n+13],5,-1444681467),p=s(p,a,c,l,e[n+2],9,-51403784),l=s(l,p,a,c,e[n+7],14,1735328473),c=s(c,l,p,a,e[n+12],20,-1926607734),a=i(a,c,l,p,e[n+5],4,-378558),p=i(p,a,c,l,e[n+8],11,-2022574463),l=i(l,p,a,c,e[n+11],16,1839030562),c=i(c,l,p,a,e[n+14],23,-35309556),a=i(a,c,l,p,e[n+1],4,-1530992060),p=i(p,a,c,l,e[n+4],11,1272893353),l=i(l,p,a,c,e[n+7],16,-155497632),c=i(c,l,p,a,e[n+10],23,-1094730640),a=i(a,c,l,p,e[n+13],4,681279174),p=i(p,a,c,l,e[n],11,-358537222),l=i(l,p,a,c,e[n+3],16,-722521979),c=i(c,l,p,a,e[n+6],23,76029189),a=i(a,c,l,p,e[n+9],4,-640364487),p=i(p,a,c,l,e[n+12],11,-421815835),l=i(l,p,a,c,e[n+15],16,530742520),c=i(c,l,p,a,e[n+2],23,-995338651),a=d(a,c,l,p,e[n],6,-198630844),p=d(p,a,c,l,e[n+7],10,1126891415),l=d(l,p,a,c,e[n+14],15,-1416354905),c=d(c,l,p,a,e[n+5],21,-57434055),a=d(a,c,l,p,e[n+12],6,1700485571),p=d(p,a,c,l,e[n+3],10,-1894986606),l=d(l,p,a,c,e[n+10],15,-1051523),c=d(c,l,p,a,e[n+1],21,-2054922799),a=d(a,c,l,p,e[n+8],6,1873313359),p=d(p,a,c,l,e[n+15],10,-30611744),l=d(l,p,a,c,e[n+6],15,-1560198380),c=d(c,l,p,a,e[n+13],21,1309151649),a=d(a,c,l,p,e[n+4],6,-145523070),p=d(p,a,c,l,e[n+11],10,-1120210379),l=d(l,p,a,c,e[n+2],15,718787259),c=d(c,l,p,a,e[n+9],21,-343485551),a=o(a,t),c=o(c,u),l=o(l,f),p=o(p,g)}return[a,c,l,p]}(function(e){if(0===e.length)return[];const t=8*e.length,o=new Uint32Array(n(t));for(let n=0;n<t;n+=8)o[n>>5]|=(255&e[n/8])<<n%32;return o}(e),8*e.length))};t.default=c},280:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=n},213:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},957:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(574))&&o.__esModule?o:{default:o};var r=function(e){if(!(0,a.default)(e))throw TypeError("Invalid UUID");let t;const n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};t.default=r},312:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},762:(e,t)=>{let n;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!n&&(n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!n))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return n(o)};const o=new Uint8Array(16)},164:(e,t)=>{function n(e,t,n,o){switch(e){case 0:return t&n^~t&o;case 1:case 3:return t^n^o;case 2:return t&n^t&o^n&o}}function o(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=function(e){const t=[1518500249,1859775393,2400959708,3395469782],a=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let n=0;n<t.length;++n)e.push(t.charCodeAt(n))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const r=e.length/4+2,s=Math.ceil(r/16),i=new Array(s);for(let n=0;n<s;++n){const t=new Uint32Array(16);for(let o=0;o<16;++o)t[o]=e[64*n+4*o]<<24|e[64*n+4*o+1]<<16|e[64*n+4*o+2]<<8|e[64*n+4*o+3];i[n]=t}i[s-1][14]=8*(e.length-1)/Math.pow(2,32),i[s-1][14]=Math.floor(i[s-1][14]),i[s-1][15]=8*(e.length-1)&4294967295;for(let d=0;d<s;++d){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=i[d][t];for(let t=16;t<80;++t)e[t]=o(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let r=a[0],s=a[1],c=a[2],l=a[3],p=a[4];for(let a=0;a<80;++a){const i=Math.floor(a/20),d=o(r,5)+n(i,s,c,l)+p+t[i]+e[a]>>>0;p=l,l=c,c=o(s,30)>>>0,s=r,r=d}a[0]=a[0]+r>>>0,a[1]=a[1]+s>>>0,a[2]=a[2]+c>>>0,a[3]=a[3]+l>>>0,a[4]=a[4]+p>>>0}return[a[0]>>24&255,a[0]>>16&255,a[0]>>8&255,255&a[0],a[1]>>24&255,a[1]>>16&255,a[1]>>8&255,255&a[1],a[2]>>24&255,a[2]>>16&255,a[2]>>8&255,255&a[2],a[3]>>24&255,a[3]>>16&255,a[3]>>8&255,255&a[3],a[4]>>24&255,a[4]>>16&255,a[4]>>8&255,255&a[4]]};t.default=a},552:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var o,a=(o=n(574))&&o.__esModule?o:{default:o};const r=[];for(let d=0;d<256;++d)r.push((d+256).toString(16).slice(1));function s(e,t=0){return(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase()}var i=function(e,t=0){const n=s(e,t);if(!(0,a.default)(n))throw TypeError("Stringified UUID is invalid");return n};t.default=i},750:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(762))&&o.__esModule?o:{default:o},r=n(552);let s,i,d=0,c=0;var l=function(e,t,n){let o=t&&n||0;const l=t||new Array(16);let p=(e=e||{}).node||s,u=void 0!==e.clockseq?e.clockseq:i;if(null==p||null==u){const t=e.random||(e.rng||a.default)();null==p&&(p=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==u&&(u=i=16383&(t[6]<<8|t[7]))}let f=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:c+1;const C=f-d+(g-c)/1e4;if(C<0&&void 0===e.clockseq&&(u=u+1&16383),(C<0||f>d)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");d=f,c=g,i=u,f+=122192928e5;const h=(1e4*(268435455&f)+g)%4294967296;l[o++]=h>>>24&255,l[o++]=h>>>16&255,l[o++]=h>>>8&255,l[o++]=255&h;const _=f/4294967296*1e4&268435455;l[o++]=_>>>8&255,l[o++]=255&_,l[o++]=_>>>24&15|16,l[o++]=_>>>16&255,l[o++]=u>>>8|128,l[o++]=255&u;for(let a=0;a<6;++a)l[o+a]=p[a];return t||(0,r.unsafeStringify)(l)};t.default=l},357:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(614)),a=r(n(980));function r(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.default)("v3",48,a.default);t.default=s},614:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,n){function o(e,o,s,i){var d;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof o&&(o=(0,r.default)(o)),16!==(null===(d=o)||void 0===d?void 0:d.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let c=new Uint8Array(16+e.length);if(c.set(o),c.set(e,o.length),c=n(c),c[6]=15&c[6]|t,c[8]=63&c[8]|128,s){i=i||0;for(let e=0;e<16;++e)s[i+e]=c[e];return s}return(0,a.unsafeStringify)(c)}try{o.name=e}catch(d){}return o.DNS=s,o.URL=i,o};var o,a=n(552),r=(o=n(957))&&o.__esModule?o:{default:o};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const i="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=i},331:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=s(n(280)),a=s(n(762)),r=n(552);function s(e){return e&&e.__esModule?e:{default:e}}var i=function(e,t,n){if(o.default.randomUUID&&!t&&!e)return o.default.randomUUID();const s=(e=e||{}).random||(e.rng||a.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=s[e];return t}return(0,r.unsafeStringify)(s)};t.default=i},680:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n(614)),a=r(n(164));function r(e){return e&&e.__esModule?e:{default:e}}var s=(0,o.default)("v5",80,a.default);t.default=s},574:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(312))&&o.__esModule?o:{default:o};var r=function(e){return"string"==typeof e&&a.default.test(e)};t.default=r},787:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=(o=n(574))&&o.__esModule?o:{default:o};var r=function(e){if(!(0,a.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=r}},t={};function n(o){var a=t[o];if(void 0!==a)return a.exports;var r=t[o]={exports:{}};return e[o](r,r.exports,n),r.exports}(()=>{var e=a(n(256)),t=n(667),o=a(n(388));function a(e){return e&&e.__esModule?e:{default:e}}n(405);const r=window[t.GLOBAL_NAME]||{};var s;s=r,0===Object.keys(s).length&&s.constructor===Object&&(window[t.GLOBAL_NAME]=r),r.start=function(t){/MSIE/.test(navigator.userAgent)?o.default.info("Your browser is not supported by the LaunchPad. Please update to a more recent one."):t&&t!==Object(t)?fetch(t,{headers:{Accept:"application/json","Content-Type":"application/json"}}).then((e=>e.json())).then((t=>{(0,e.default)({configUpdates:t.config})})).catch((t=>{o.default.error("Failed to load config: ",t),(0,e.default)()})):(0,e.default)({configUpdates:t})}})()})();